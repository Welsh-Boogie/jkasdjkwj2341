module.exports=__NEXT_REGISTER_PAGE("/check-tx",function(){return{page:webpackJsonp([5],{151:function(e,t,a){"use strict";var n=a(19),s=a.n(n),r=a(0),o=a.n(r),i=a(38),c=a(40),l=a.n(c),u=a(41),m=a.n(u);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(e){var a,n,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(a=!(s=(t.__proto__||Object.getPrototypeOf(t)).call(this,e))||"object"!==x(s)&&"function"!=typeof s?h(n):s).state={txhash:e.txhash,txBlockNum:0,from:"",to:"",sendNumText:"",sendStatusText:"",sendDescr:"",isMounted:!1,showTransaction:!1},a.traceTransaction=a.traceTransaction.bind(h(a)),a.handleTxhashInput=a.handleTxhashInput.bind(h(a)),a.parseSendInfo=a.parseSendInfo.bind(h(a)),a}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){var e=this;this.setState({isMounted:!0}),this.timer=setTimeout(function(){e.state.txhash&&e.traceTransaction(e.state.txhash)},200),this.interval=setInterval(function(){e.state.txhash&&e.traceTransaction(e.state.txhash)},3800)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),clearInterval(this.interval),this.setState({isMounted:!1})}},{key:"traceTransaction",value:function(e){var t=this,a=eth_wallet_js.web3,n={};a.eth.getTransactionReceipt(e).then(function(s){if(log("in get transaction receipt",s),s){s.blockNumber&&(n.txBlockNum=s.blockNumber);var r=s.from,o=s.to,i="";a.eth.getTransaction(e).then(function(n){n.input.length>100?a.eth.getTransaction(e).then(function(e){var a=t.parseSendInfo(e.input);o=a.to,i=a.val,t.setState({to:o,sendNumText:i,from:e.from,showTransaction:!0})}):(i=a.utils.fromWei(n.value,"ether")+" ether",t.setState({sendNumText:i,to:n.to,from:n.from,showTransaction:!0}))}),n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){f(e,t,a[t])})}return e}({},n,{from:r}),s.status?(n.sendStatusText="成功",a.eth.getBlockNumber().then(function(e){var a=e-n.txBlockNum;a>0&&(log("confrimNum",a),n.showTransaction=!0,a>12?(n.sendDescr="已得到12次以上确认",t.setState(n),clearInterval(t.interval)):(n.sendDescr="已得到".concat(a,"次确认"),t.setState(n)))})):(n.sendStatusText="失败",t.setState(n))}})}},{key:"handleTxhashInput",value:function(e){var t=e.target.value;64==t.length&&t.indexOf("0x")<0&&(t="0x"+t,this.setState({txhash:t}),this.traceTransaction(t)),66==t.length&&0==t.indexOf("0x")&&(this.setState({txhash:t}),this.traceTransaction(t))}},{key:"parseSendInfo",value:function(e){var t=eth_wallet_js.web3,a="0x"+e.substring(34,74),n="0x"+e.substring(74);return{to:a,val:n=t.utils.fromWei(t.utils.hexToNumberString(n))}}},{key:"render",value:function(){var e=this.state;this.props;return o.a.createElement("div",{className:"jsx-3013317870 trans-status"},o.a.createElement(l.a,{raised:!0},o.a.createElement("div",{className:"jsx-3013317870 trans-card"},e.showTransaction?o.a.createElement("div",{className:"jsx-3013317870"},o.a.createElement("div",{className:"jsx-3013317870 trans-name"},o.a.createElement("p",{className:"jsx-3013317870 trans"},"交易哈希"),o.a.createElement("p",{className:"jsx-3013317870 trans-txhash"},this.state.txhash)),o.a.createElement("div",{className:"jsx-3013317870 trans-from"},o.a.createElement("span",{className:"jsx-3013317870 meta-text"},"从"),o.a.createElement("span",{className:"jsx-3013317870 primary-text"},e.from)),o.a.createElement("div",{className:"jsx-3013317870 trans-descr"},o.a.createElement("span",{className:"jsx-3013317870 meta-text"},"发送"),o.a.createElement("span",{className:"jsx-3013317870 primary-text"},e.sendNumText)),o.a.createElement("div",{className:"jsx-3013317870 trans-to"},o.a.createElement("span",{className:"jsx-3013317870 meta-text"},"至"),o.a.createElement("span",{className:"jsx-3013317870 primary-text"},e.to)),o.a.createElement("p",{className:"jsx-3013317870 trans-sts-text"},o.a.createElement("span",{className:"jsx-3013317870 meta-text"},"交易状态："),o.a.createElement("span",{className:"jsx-3013317870 primary-text"},e.sendStatusText)),o.a.createElement("p",{className:"jsx-3013317870 trans-confirm"},o.a.createElement("span",{className:"jsx-3013317870 meta-text"},e.sendDescr),o.a.createElement("span",{className:"jsx-3013317870 primary-text"}))):o.a.createElement(m.a,{label:"交易哈希",placeholder:"交易哈希通常为0x开头的66位16进制字符串",fullWidth:!0,type:"text",onChange:this.handleTxhashInput,style:{margin:"35px 0px"},value:e.txhash}))),o.a.createElement(s.a,{styleId:"3013317870",css:[".trans-status.jsx-3013317870{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:auto;-ms-flex:auto;flex:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-width:300px;max-width:1000px;maigin:20px;}",".trans-card.jsx-3013317870{padding:20px;text-align:center;}",".meta-text.jsx-3013317870{margin:0px 10px;color:#324057;}",".primary-text.jsx-3013317870{color:#00acc1;}",".trans-name.jsx-3013317870,.trans-from.jsx-3013317870,.trans-descr.jsx-3013317870,trans-to.jsx-3013317870,trans-sts-text.jsx-3013317870,trans-confirm.jsx-3013317870{margin:15px 0px;}"]}))}}])&&p(a.prototype,n),r&&p(a,r),t}();t.a=Object(i.a)(d)},541:function(e,t,a){e.exports=a(542)},542:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),s=a.n(n),r=a(0),o=a.n(r),i=a(77),c=a(151);t.default=function(){return o.a.createElement(i.a,{nav:"check-tx"},o.a.createElement("div",{className:"jsx-773731205 transaction-status"},o.a.createElement(c.a,null)),o.a.createElement(s.a,{styleId:"773731205",css:[".transaction-status.jsx-773731205{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;max-width:1280px;margin:10px 10px 50px;}"]}))}}},[541]).default}});